<%= link_to 'Back', edit_post_definition_path(@post.post_definition_id), { class: 'btn btn-secondary', style: 'margin-bottom: 30px'} %>
<hr/>

<% if params[:type] == 'new' %>
    <h3>Add Field for <%= @post_name %></h3>
    <%= form_for @post do |f| %>
        <%= f.label :name %><br>
        <%= f.text_field :name, class: "form-control"%>
        <%= f.label :field_type %><br>
        <%= f.select :field_type, @all_types, { prompt: 'Select Type' }, { class: 'form-control' } %>
        <%= f.hidden_field :post_definition_id %>
        <%= f.submit "Create Post field", class: 'btn btn-secondary', style: 'margin-top: 30px;' %>
    <% end %>
<% else %>
    <h3>Update Field for <%= @post_name %></h3>
    <%= form_for @post, url: post_field_path(params[:field_id]), method: :patch do |f| %>
        <%= f.label :name %><br>
        <%= f.text_field :name, class: "form-control"%>
        <%= f.label :field_type %><br>
        <%= f.select :field_type, @all_types, { prompt: 'Select Type' }, { class: 'form-control' } %>
        <%= f.hidden_field :post_definition_id %>
        <%= f.submit "Update Post field", class: 'btn btn-secondary', style: 'margin-top: 30px;' %>
    <% end %>
<% end %>