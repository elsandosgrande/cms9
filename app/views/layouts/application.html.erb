<!DOCTYPE html>
<html>
  <head>
    <title>Cms9</title>
    <%= javascript_include_tag "application" %>
    <%= stylesheet_link_tag "application" %>
    <%= csrf_meta_tags %>
  </head>

  <body>
    <nav class="navbar navbar-fixed-top navbar-dark bg-inverse">
      <a class="navbar-brand" href="#">Cms9</a>
      <ul class="nav navbar-nav">
        <li class="nav-item <%= 'active' if params[:controller] == 'welcome' %>">
          <a class="nav-link" href="/">Home</a>
        </li>
        <li class="nav-item <%= 'active' if params[:controller] == 'post_definitions' %>">
          <a class="nav-link" href="/post_definitions">Post Definitions</a>
        </li>
        <li class="nav-item <%= 'active' if params[:controller] == 'posts' && params[:action] == 'index' %>">
          <a class="nav-link" href="/posts">Posts</a>
        </li>
        <li class="nav-item dropdown <%= 'active' if params[:controller] == 'posts' && (params[:action] == 'new' || params[:action] == 'edit') %>">
          <a href="#" class="dropdown-toggle nav-link <%= 'disabled' if @nav_list.size == 0 %>" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">
            Create Post
            <span class="caret"></span>
          </a>
          <div class="dropdown-menu">
            <% @nav_list.each do |post| %>
                <%= link_to post.name, new_post_path(type: post.name, post_definition_id: post.id), { class: 'dropdown-item' } %>
                <% if post != PostDefinition.all.last %>
                    <div class="dropdown-divider"></div>
                <% end %>
            <% end %>
          </div>
        </li>
      </ul>
    </nav>
    <div class="container">
      <%= yield %>
    </div>
  </body>
</html>
